<!DOCTYPE html><!--[if IE 8]>
<html id="ie8" dir="ltr" lang="zh-CN"
	prefix="og: https://ogp.me/ns#" >
<![endif]--><!--[if !(IE 8) ]><!--><html dir="ltr" lang="zh-CN" prefix="og: https://ogp.me/ns#"><!--<![endif]--><head><meta charset="UTF-8"/><title>Goç¼–ç¨‹æ¨¡å¼ï¼šMap-Reduce | é…· å£³ - CoolShell</title><link rel="stylesheet" type="text/css" href="/assets/all.min.css"/><link rel="shortcut icon" href="/assets/favicon.png"/></head>
<body class="post-template-default single single-post postid-21164 single-format-standard group-blog">

<div id="page" class="hfeed site">

<div class="container">
<div class="row">

</div>
</div>
<div id="content" class="site-content">
<div class="container">
<div class="row">
<div id="primary" class="content-area  col-md-12" style="margin-top: 40px;">
<main id="main" role="main">
<article id="post-21164" class="post-content post-21164 post type-post status-publish format-standard hentry category-go- category-progdesign category-proglanguage tag-functional tag-functional-programming tag-go tag-golang tag-mapreduce tag-697 tag-839 series-go">
<header class="entry-header">
<span class="screen-reader-text">Goç¼–ç¨‹æ¨¡å¼ï¼šMap-Reduce</span>
<h1 class="entry-title">Goç¼–ç¨‹æ¨¡å¼ï¼šMap-Reduce</h1>
<div class="entry-meta">
<h5 class="entry-date"><i class="fa fa-calendar-o"></i> <a href="/articles/21164.html" title="15:13" rel="bookmark"><time class="entry-date" datetime="2020-12-24T15:13:52+08:00" pubdate="">2020å¹´12æœˆ24æ—¥ </time></a><span class="byline"><span class="sep"></span><i class="fa fa-user"></i>
<span class="author vcard"><a class="url fn n" href="/haoel" title="View all posts by é™ˆçš“" rel="author">é™ˆçš“</a></span></span> <i class="fa fa-comments-o"></i><span class="screen-reader-text">è¯„è®º </span> <a href="/articles/21164.html#comments" class="comments-link">19 æ¡è¯„è®º</a> <i class="fa fa-users" style="margin-left:10px;"></i> 44,563 äººé˜…è¯»</h5>
</div>
</header>
<div class="entry-content">
<p><img decoding="async" class="alignright size-medium wp-image-21251" src="/uploads/2020/12/go.map_.reduce-300x192.png" alt="" width="300" height="192" srcset="" sizes="(max-width: 300px) 100vw, 300px"/>åœ¨æœ¬ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å­¦ä¹ ä¸€ä¸‹å‡½æ•°å¼ç¼–ç¨‹çš„ä¸­éå¸¸é‡è¦çš„Mapã€Reduceã€Filterçš„ä¸‰ç§æ“ä½œï¼Œè¿™ä¸‰ç§æ“ä½œå¯ä»¥è®©æˆ‘ä»¬éå¸¸æ–¹ä¾¿çµæ´»åœ°è¿›è¡Œä¸€äº›æ•°æ®å¤„ç†â€”â€”æˆ‘ä»¬çš„ç¨‹åºä¸­å¤§å¤šæ•°æƒ…å†µä¸‹éƒ½æ˜¯åœ¨åˆ°å€’è…¾æ•°æ®ï¼Œå°¤å…¶å¯¹äºä¸€äº›éœ€è¦ç»Ÿè®¡çš„ä¸šåŠ¡åœºæ™¯ï¼ŒMap/Reduce/Filteræ˜¯éå¸¸é€šç”¨çš„ç©æ³•ã€‚ä¸‹é¢å…ˆæ¥çœ‹å‡ ä¸ªä¾‹å­ï¼š</p>
<section class="post-series"><h3 class="post-series-title">æœ¬æ–‡æ˜¯å…¨ç³»åˆ—ä¸­ç¬¬5 / 10ç¯‡ï¼š<a href="/articles/series/go%e7%bc%96%e7%a8%8b%e6%a8%a1%e5%bc%8f">Goç¼–ç¨‹æ¨¡å¼</a></h3><ul class="post-series-list"><li class="post-series-item"><span class="post-series-item-title"><a href="/articles/21128.html">Goç¼–ç¨‹æ¨¡å¼ï¼šåˆ‡ç‰‡ï¼Œæ¥å£ï¼Œæ—¶é—´å’Œæ€§èƒ½</a></span></li><li class="post-series-item"><span class="post-series-item-title"><a href="/articles/21140.html">Go ç¼–ç¨‹æ¨¡å¼ï¼šé”™è¯¯å¤„ç†</a></span></li><li class="post-series-item"><span class="post-series-item-title"><a href="/articles/21146.html">Go ç¼–ç¨‹æ¨¡å¼ï¼šFunctional Options</a></span></li><li class="post-series-item"><span class="post-series-item-title"><a href="/articles/21214.html">Goç¼–ç¨‹æ¨¡å¼ï¼šå§”æ‰˜å’Œåè½¬æ§åˆ¶</a></span></li><li class="post-series-item-current post-series-item"><span class="post-series-item-title">Goç¼–ç¨‹æ¨¡å¼ï¼šMap-Reduce</span></li><li class="post-series-item"><span class="post-series-item-title"><a href="/articles/21179.html">Go ç¼–ç¨‹æ¨¡å¼ï¼šGo Generation</a></span></li><li class="post-series-item"><span class="post-series-item-title"><a href="/articles/17929.html">Goç¼–ç¨‹æ¨¡å¼ï¼šä¿®é¥°å™¨</a></span></li><li class="post-series-item"><span class="post-series-item-title"><a href="/articles/21228.html">Goç¼–ç¨‹æ¨¡å¼ï¼šPipeline</a></span></li><li class="post-series-item"><span class="post-series-item-title"><a href="/articles/21263.html">Go ç¼–ç¨‹æ¨¡å¼ï¼šk8s Visitor æ¨¡å¼</a></span></li><li class="post-series-item"><span class="post-series-item-title"><a href="/articles/21615.html">Goç¼–ç¨‹æ¨¡å¼ ï¼š æ³›å‹ç¼–ç¨‹</a></span></li></ul><nav class="post-series-nav"><span class="post-series-nav-prev">Â« <a href="/articles/21214.html" rel="prev" title="Goç¼–ç¨‹æ¨¡å¼ï¼šå§”æ‰˜å’Œåè½¬æ§åˆ¶">ä¸Šä¸€ç¯‡æ–‡ç« </a></span><span class="post-series-nav-next"><a href="/articles/21179.html" rel="next" title="Go ç¼–ç¨‹æ¨¡å¼ï¼šGo Generation">ä¸‹ä¸€ç¯‡æ–‡ç« </a> Â»</span></nav></section>
<div id="ez-toc-container" class="ez-toc-v2_0_48 counter-hierarchy ez-toc-counter ez-toc-grey ez-toc-container-direction">
<div class="ez-toc-title-container">
<p class="ez-toc-title">ç›®å½•</p>
<span class="ez-toc-title-toggle"></span></div>
<nav><ul class="ez-toc-list ez-toc-list-level-1 "><li class="ez-toc-page-1 ez-toc-heading-level-4"><a class="ez-toc-link ez-toc-heading-1" href="#%E5%9F%BA%E6%9C%AC%E7%A4%BA%E4%BE%8B" title="åŸºæœ¬ç¤ºä¾‹">åŸºæœ¬ç¤ºä¾‹</a><ul class="ez-toc-list-level-5"><li class="ez-toc-heading-level-5"><a class="ez-toc-link ez-toc-heading-2" href="#Map%E7%A4%BA%E4%BE%8B" title="Mapç¤ºä¾‹">Mapç¤ºä¾‹</a></li><li class="ez-toc-page-1 ez-toc-heading-level-5"><a class="ez-toc-link ez-toc-heading-3" href="#Reduce_%E7%A4%BA%E4%BE%8B" title="Reduce ç¤ºä¾‹">Reduce ç¤ºä¾‹</a></li><li class="ez-toc-page-1 ez-toc-heading-level-5"><a class="ez-toc-link ez-toc-heading-4" href="#Filter%E7%A4%BA%E4%BE%8B" title="Filterç¤ºä¾‹">Filterç¤ºä¾‹</a></li></ul></li><li class="ez-toc-page-1 ez-toc-heading-level-4"><a class="ez-toc-link ez-toc-heading-5" href="#%E4%B8%9A%E5%8A%A1%E7%A4%BA%E4%BE%8B" title="ä¸šåŠ¡ç¤ºä¾‹">ä¸šåŠ¡ç¤ºä¾‹</a><ul class="ez-toc-list-level-5"><li class="ez-toc-heading-level-5"><a class="ez-toc-link ez-toc-heading-6" href="#%E5%91%98%E5%B7%A5%E4%BF%A1%E6%81%AF" title="å‘˜å·¥ä¿¡æ¯">å‘˜å·¥ä¿¡æ¯</a></li><li class="ez-toc-page-1 ez-toc-heading-level-5"><a class="ez-toc-link ez-toc-heading-7" href="#%E7%9B%B8%E5%85%B3%E7%9A%84ReduceFitler%E5%87%BD%E6%95%B0" title="ç›¸å…³çš„Reduce/Fitlerå‡½æ•°">ç›¸å…³çš„Reduce/Fitlerå‡½æ•°</a></li><li class="ez-toc-page-1 ez-toc-heading-level-5"><a class="ez-toc-link ez-toc-heading-8" href="#%E5%90%84%E7%A7%8D%E8%87%AA%E5%AE%9A%E4%B9%89%E7%9A%84%E7%BB%9F%E8%AE%A1%E7%A4%BA%E4%BE%8B" title="å„ç§è‡ªå®šä¹‰çš„ç»Ÿè®¡ç¤ºä¾‹">å„ç§è‡ªå®šä¹‰çš„ç»Ÿè®¡ç¤ºä¾‹</a></li></ul></li><li class="ez-toc-page-1 ez-toc-heading-level-4"><a class="ez-toc-link ez-toc-heading-9" href="#%E6%B3%9B%E5%9E%8BMap-Reduce" title="æ³›å‹Map-Reduce">æ³›å‹Map-Reduce</a><ul class="ez-toc-list-level-5"><li class="ez-toc-heading-level-5"><a class="ez-toc-link ez-toc-heading-10" href="#%E7%AE%80%E5%8D%95%E7%89%88_Generic_Map" title="ç®€å•ç‰ˆ Generic Map">ç®€å•ç‰ˆ Generic Map</a></li><li class="ez-toc-page-1 ez-toc-heading-level-5"><a class="ez-toc-link ez-toc-heading-11" href="#%E5%81%A5%E5%A3%AE%E7%89%88%E7%9A%84Generic_Map" title="å¥å£®ç‰ˆçš„Generic Map">å¥å£®ç‰ˆçš„Generic Map</a></li><li class="ez-toc-page-1 ez-toc-heading-level-5"><a class="ez-toc-link ez-toc-heading-12" href="#%E5%81%A5%E5%A3%AE%E7%89%88%E7%9A%84_Generic_Reduce" title="å¥å£®ç‰ˆçš„ Generic Reduce">å¥å£®ç‰ˆçš„ Generic Reduce</a></li><li class="ez-toc-page-1 ez-toc-heading-level-5"><a class="ez-toc-link ez-toc-heading-13" href="#%E5%81%A5%E5%A3%AE%E7%89%88%E7%9A%84_Generic_Filter" title="å¥å£®ç‰ˆçš„ Generic Filter">å¥å£®ç‰ˆçš„ Generic Filter</a></li></ul></li><li class="ez-toc-page-1 ez-toc-heading-level-4"><a class="ez-toc-link ez-toc-heading-14" href="#%E5%90%8E%E8%AE%B0" title="åè®°">åè®°</a></li></ul></nav></div>
<h4><span class="ez-toc-section" id="%E5%9F%BA%E6%9C%AC%E7%A4%BA%E4%BE%8B"></span>åŸºæœ¬ç¤ºä¾‹<span class="ez-toc-section-end"></span></h4>
<h5><span class="ez-toc-section" id="Map%E7%A4%BA%E4%BE%8B"></span>Mapç¤ºä¾‹<span class="ez-toc-section-end"></span></h5>
<p>ä¸‹é¢çš„ç¨‹åºä»£ç ä¸­ï¼Œæˆ‘ä»¬å†™äº†ä¸¤ä¸ªMapå‡½æ•°ï¼Œè¿™ä¸¤ä¸ªå‡½æ•°éœ€è¦ä¸¤ä¸ªå‚æ•°ï¼Œ</p>
<ul>
<li>ä¸€ä¸ªæ˜¯å­—ç¬¦ä¸²æ•°ç»„ <code>[]string</code>ï¼Œè¯´æ˜éœ€è¦å¤„ç†çš„æ•°æ®ä¸€ä¸ªå­—ç¬¦ä¸²</li>
<li>å¦ä¸€ä¸ªæ˜¯ä¸€ä¸ªå‡½æ•°<code>func(s string) string</code> æˆ– <code>func(s string) int</code></li>
</ul>
<pre class="EnlighterJSRAW" data-enlighter-language="golang">func MapStrToStr(arr []string, fn func(s string) string) []string {
    var newArray = []string{}
    for _, it := range arr {
        newArray = append(newArray, fn(it))
    }
    return newArray
}

func MapStrToInt(arr []string, fn func(s string) int) []int {
    var newArray = []int{}
    for _, it := range arr {
        newArray = append(newArray, fn(it))
    }
    return newArray
}</pre>
<p>æ•´ä¸ªMapå‡½æ•°è¿è¡Œé€»è¾‘éƒ½å¾ˆç›¸ä¼¼ï¼Œå‡½æ•°ä½“éƒ½æ˜¯åœ¨éå†ç¬¬ä¸€ä¸ªå‚æ•°çš„æ•°ç»„ï¼Œç„¶åï¼Œè°ƒç”¨ç¬¬äºŒä¸ªå‚æ•°çš„å‡½æ•°ï¼Œç„¶åæŠŠå…¶å€¼ç»„åˆæˆå¦ä¸€ä¸ªæ•°ç»„è¿”å›ã€‚</p>
<p><span id="more-21164"></span></p>
<p>äºæ˜¯æˆ‘ä»¬å°±å¯ä»¥è¿™æ ·ä½¿ç”¨è¿™ä¸¤ä¸ªå‡½æ•°ï¼š</p>
<pre class="EnlighterJSRAW" data-enlighter-language="golang">var list = []string{&#34;Hao&#34;, &#34;Chen&#34;, &#34;MegaEase&#34;}

x := MapStrToStr(list, func(s string) string {
    return strings.ToUpper(s)
})
fmt.Printf(&#34;%v\n&#34;, x)
//[&#34;HAO&#34;, &#34;CHEN&#34;, &#34;MEGAEASE&#34;]

y := MapStrToInt(list, func(s string) int {
    return len(s)
})
fmt.Printf(&#34;%v\n&#34;, y)
//[3, 4, 8]</pre>
<p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬ç»™ç¬¬ä¸€ä¸ª <code>MapStrToStr()</code> ä¼ äº†å‡½æ•°åšçš„æ˜¯ è½¬å¤§å†™ï¼Œäºæ˜¯å‡ºæ¥çš„æ•°ç»„å°±æˆäº†å…¨å¤§å†™çš„ï¼Œç»™<code>MapStrToInt()</code> ä¼ çš„æ˜¯ç®—å…¶é•¿åº¦ï¼Œæ‰€ä»¥å‡ºæ¥çš„æ•°ç»„æ˜¯æ¯ä¸ªå­—ç¬¦ä¸²çš„é•¿åº¦ã€‚</p>
<p>æˆ‘ä»¬å†æ¥çœ‹ä¸€ä¸‹Reduceå’ŒFilterçš„å‡½æ•°æ˜¯ä»€ä¹ˆæ ·çš„ã€‚</p>
<h5><span class="ez-toc-section" id="Reduce_%E7%A4%BA%E4%BE%8B"></span><strong>Reduce ç¤ºä¾‹</strong><span class="ez-toc-section-end"></span></h5>
<pre class="EnlighterJSRAW" data-enlighter-language="golang">func Reduce(arr []string, fn func(s string) int) int {
    sum := 0
    for _, it := range arr {
        sum += fn(it)
    }
    return sum
}

var list = []string{&#34;Hao&#34;, &#34;Chen&#34;, &#34;MegaEase&#34;}

x := Reduce(list, func(s string) int {
    return len(s)
})
fmt.Printf(&#34;%v\n&#34;, x)
// 15
</pre>
<h5><span class="ez-toc-section" id="Filter%E7%A4%BA%E4%BE%8B"></span><strong>Filterç¤ºä¾‹</strong><span class="ez-toc-section-end"></span></h5>
<pre class="EnlighterJSRAW" data-enlighter-language="golang">func Filter(arr []int, fn func(n int) bool) []int {
    var newArray = []int{}
    for _, it := range arr {
        if fn(it) {
            newArray = append(newArray, it)
        }
    }
    return newArray
}

var intset = []int{1, 2, 3, 4, 5, 6, 7, 8, 9, 10}
out := Filter(intset, func(n int) bool {
   return n%2 == 1
})
fmt.Printf(&#34;%v\n&#34;, out)

out = Filter(intset, func(n int) bool {
    return n &gt; 5
})
fmt.Printf(&#34;%v\n&#34;, out)
</pre>
<p>ä¸‹å›¾æ˜¯ä¸€ä¸ªæ¯”å–»ï¼Œå…¶éå¸¸å½¢è±¡åœ°è¯´æ˜äº†Map-Reduceæ˜¯çš„ä¸šåŠ¡è¯­ä¹‰ï¼Œå…¶åœ¨æ•°æ®å¤„ç†ä¸­éå¸¸æœ‰ç”¨ã€‚</p>
<p><img decoding="async" loading="lazy" class="aligncenter size-full wp-image-21169" src="/uploads/2020/12/map-reduce.png" alt="" width="794" height="442" srcset="" sizes="(max-width: 794px) 100vw, 794px"/></p>
<h4><span class="ez-toc-section" id="%E4%B8%9A%E5%8A%A1%E7%A4%BA%E4%BE%8B"></span>ä¸šåŠ¡ç¤ºä¾‹<span class="ez-toc-section-end"></span></h4>
<p>é€šè¿‡ä¸Šé¢çš„ä¸€äº›ç¤ºä¾‹ï¼Œä½ å¯èƒ½æœ‰ä¸€äº›æ˜ç™½ï¼ŒMap/Reduce/Filteråªæ˜¯ä¸€ç§æ§åˆ¶é€»è¾‘ï¼ŒçœŸæ­£çš„ä¸šåŠ¡é€»è¾‘æ˜¯åœ¨ä¼ ç»™ä»–ä»¬çš„æ•°æ®å’Œé‚£ä¸ªå‡½æ•°æ¥å®šä¹‰çš„ã€‚æ˜¯çš„ï¼Œè¿™æ˜¯ä¸€ä¸ªå¾ˆç»å…¸çš„â€œä¸šåŠ¡é€»è¾‘â€å’Œâ€œæ§åˆ¶é€»è¾‘â€åˆ†ç¦»è§£è€¦çš„ç¼–ç¨‹æ¨¡å¼ã€‚ä¸‹é¢æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªæœ‰ä¸šåŠ¡æ„ä¹‰çš„ä»£ç ï¼Œæ¥è®©å¤§å®¶å¼ºåŒ–ç†è§£ä¸€ä¸‹ä»€ä¹ˆå«â€œæ§åˆ¶é€»è¾‘â€ä¸ä¸šåŠ¡é€»è¾‘åˆ†ç¦»ã€‚</p>
<h5><span class="ez-toc-section" id="%E5%91%98%E5%B7%A5%E4%BF%A1%E6%81%AF"></span>å‘˜å·¥ä¿¡æ¯<span class="ez-toc-section-end"></span></h5>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬ä¸€ä¸ªå‘˜å·¥å¯¹è±¡ï¼Œä»¥åŠä¸€äº›æ•°æ®</p>
<pre class="EnlighterJSRAW" data-enlighter-language="golang">type Employee struct {
    Name Â  Â  string
    AgeÂ  Â  Â  int
    Vacation int
    Salary Â  int
}

var list = []Employee{
    {&#34;Hao&#34;, 44, 0, 8000},
    {&#34;Bob&#34;, 34, 10, 5000},
    {&#34;Alice&#34;, 23, 5, 9000},
    {&#34;Jack&#34;, 26, 0, 4000},
    {&#34;Tom&#34;, 48, 9, 7500},
    {&#34;Marry&#34;, 29, 0, 6000},
    {&#34;Mike&#34;, 32, 8, 4000},
}</pre>
<h5><span class="ez-toc-section" id="%E7%9B%B8%E5%85%B3%E7%9A%84ReduceFitler%E5%87%BD%E6%95%B0"></span>ç›¸å…³çš„Reduce/Fitlerå‡½æ•°<span class="ez-toc-section-end"></span></h5>
<p>ç„¶åï¼Œæˆ‘ä»¬æœ‰å¦‚ä¸‹çš„å‡ ä¸ªå‡½æ•°ï¼š</p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">func EmployeeCountIf(list []Employee, fn func(e *Employee) bool) int {
    count := 0
    for i, _ := range list {
        if fn(&amp;list[i]) {
            count += 1
        }
    }
    return count
}

func EmployeeFilterIn(list []Employee, fn func(e *Employee) bool) []Employee {
    var newList []Employee
    for i, _ := range list {
        if fn(&amp;list[i]) {
            newList = append(newList, list[i])
        }
    }
    return newList
}

func EmployeeSumIf(list []Employee, fn func(e *Employee) int) int {
    var sum = 0
    for i, _ := range list {
        sum += fn(&amp;list[i])
    }
    return sum
}</pre>
<p>ç®€å•è¯´æ˜ä¸€ä¸‹ï¼š</p>
<ul>
<li><code>EmployeeConutIf</code> å’Œ <code>EmployeeSumIf</code> åˆ†åˆ«ç”¨äºç»Ÿæ»¡è¶³æŸä¸ªæ¡ä»¶çš„ä¸ªæ•°æˆ–æ€»æ•°ã€‚å®ƒä»¬éƒ½æ˜¯Filter + Reduceçš„è¯­ä¹‰ã€‚</li>
<li><code>EmployeeFilterIn</code> å°±æ˜¯æŒ‰æŸç§æ¡ä»¶è¿‡è™‘ã€‚å°±æ˜¯Fitlerçš„è¯­ä¹‰ã€‚</li>
</ul>
<h5><span class="ez-toc-section" id="%E5%90%84%E7%A7%8D%E8%87%AA%E5%AE%9A%E4%B9%89%E7%9A%84%E7%BB%9F%E8%AE%A1%E7%A4%BA%E4%BE%8B"></span>å„ç§è‡ªå®šä¹‰çš„ç»Ÿè®¡ç¤ºä¾‹<span class="ez-toc-section-end"></span></h5>
<p>äºæ˜¯æˆ‘ä»¬å°±å¯ä»¥æœ‰å¦‚ä¸‹çš„ä»£ç ã€‚</p>
<p><strong>1ï¼‰ç»Ÿè®¡æœ‰å¤šå°‘å‘˜å·¥å¤§äº40å²</strong></p>
<pre class="EnlighterJSRAW" data-enlighter-language="golang">old := EmployeeCountIf(list, func(e *Employee) bool {
    return e.Age &gt; 40
})
fmt.Printf(&#34;old people: %d\n&#34;, old)
//old people: 2
</pre>
<p><strong>2ï¼‰ç»Ÿè®¡æœ‰å¤šå°‘å‘˜å·¥è–ªæ°´å¤§äº6000</strong></p>
<pre class="EnlighterJSRAW" data-enlighter-language="golang">high_pay := EmployeeCountIf(list, func(e *Employee) bool {
    return e.Salary &gt;= 6000
})
fmt.Printf(&#34;High Salary people: %d\n&#34;, high_pay)
//High Salary people: 4
</pre>
<p><strong>3ï¼‰åˆ—å‡ºæœ‰æ²¡æœ‰ä¼‘å‡çš„å‘˜å·¥</strong></p>
<pre class="EnlighterJSRAW" data-enlighter-language="golang">no_vacation := EmployeeFilterIn(list, func(e *Employee) bool {
    return e.Vacation == 0
})
fmt.Printf(&#34;People no vacation: %v\n&#34;, no_vacation)
//People no vacation: [{Hao 44 0 8000} {Jack 26 0 4000} {Marry 29 0 6000}]
</pre>
<p><strong>4ï¼‰ç»Ÿè®¡æ‰€æœ‰å‘˜å·¥çš„è–ªèµ„æ€»å’Œ</strong></p>
<pre class="EnlighterJSRAW" data-enlighter-language="golang">total_pay := EmployeeSumIf(list, func(e *Employee) int {
    return e.Salary
})

fmt.Printf(&#34;Total Salary: %d\n&#34;, total_pay)
//Total Salary: 43500
</pre>
<p><strong>5ï¼‰ç»Ÿè®¡30å²ä»¥ä¸‹å‘˜å·¥çš„è–ªèµ„æ€»å’Œ</strong></p>
<pre class="EnlighterJSRAW" data-enlighter-language="golang">younger_pay := EmployeeSumIf(list, func(e *Employee) int {
    if e.Age &lt; 30 {
        return e.Salary
    } 
    return 0
})</pre>
<h4><span class="ez-toc-section" id="%E6%B3%9B%E5%9E%8BMap-Reduce"></span>æ³›å‹Map-Reduce<span class="ez-toc-section-end"></span></h4>
<p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œä¸Šé¢çš„Map-Reduceéƒ½å› ä¸ºè¦å¤„ç†æ•°æ®çš„ç±»å‹ä¸åŒè€Œéœ€è¦å†™å‡ºä¸åŒç‰ˆæœ¬çš„Map-Reduceï¼Œè™½ç„¶ä»–ä»¬çš„ä»£ç çœ‹ä¸Šå»æ˜¯å¾ˆç±»ä¼¼çš„ã€‚æ‰€ä»¥ï¼Œè¿™é‡Œå°±è¦å¸¦å‡ºæ¥æ³›å‹ç¼–ç¨‹äº†ï¼ŒGoè¯­è¨€åœ¨æœ¬æ–‡å†™ä½œçš„æ—¶å€™è¿˜ä¸æ”¯æŒæ³›å‹ï¼ˆæ³¨ï¼šGoå¼€å‘å›¢é˜ŸæŠ€æœ¯è´Ÿè´£äººRuss Coxåœ¨2012å¹´11æœˆ21golang-devä¸Šçš„mailç¡®è®¤äº†Goæ³›å‹(type parameter)å°†åœ¨Go 1.18ç‰ˆæœ¬è½åœ°ï¼Œå³2022.2æœˆä»½ï¼‰ã€‚</p>
<h5><span class="ez-toc-section" id="%E7%AE%80%E5%8D%95%E7%89%88_Generic_Map"></span>ç®€å•ç‰ˆ Generic Map<span class="ez-toc-section-end"></span></h5>
<p>æ‰€ä»¥ï¼Œç›®å‰çš„Goè¯­è¨€çš„æ³›å‹åªèƒ½ç”¨ <code>interface{}</code> + <code>reflect</code>æ¥å®Œæˆï¼Œ<code>interface{}</code> å¯ä»¥ç†è§£ä¸ºCä¸­çš„Â <code>void*</code>ï¼ŒJavaä¸­çš„ <code>Object</code> ï¼Œ<code>reflect</code>æ˜¯Goçš„åå°„æœºåˆ¶åŒ…ï¼Œç”¨äºåœ¨è¿è¡Œæ—¶æ£€æŸ¥ç±»å‹ã€‚</p>
<p>ä¸‹é¢æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹ä¸€ä¸ªéå¸¸ç®€å•ä¸ä½œä»»ä½•ç±»å‹æ£€æŸ¥çš„æ³›å‹çš„Mapå‡½æ•°æ€ä¹ˆå†™ã€‚</p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">func Map(data interface{}, fn interface{}) []interface{} {
    vfn := reflect.ValueOf(fn)
    vdata := reflect.ValueOf(data)
    result := make([]interface{}, vdata.Len())

    for i := 0; i &lt; vdata.Len(); i++ {
        result[i] = vfn.Call([]reflect.Value{vdata.Index(i)})[0].Interface()
    }
    return result
}</pre>
<p>ä¸Šé¢çš„ä»£ç ä¸­ï¼Œ</p>
<ul>
<li>é€šè¿‡ <code>reflect.ValueOf()</code> æ¥è·å¾— <code>interface{}</code> çš„å€¼ï¼Œå…¶ä¸­ä¸€ä¸ªæ˜¯æ•°æ® <code>vdata</code>ï¼Œå¦ä¸€ä¸ªæ˜¯å‡½æ•° <code>vfn</code>ï¼Œ</li>
<li>ç„¶åé€šè¿‡ <code>vfn.Call()</code> æ–¹æ³•æ¥è°ƒç”¨å‡½æ•°ï¼Œé€šè¿‡ <code>[]refelct.Value{vdata.Index(i)}</code>æ¥è·å¾—æ•°æ®ã€‚</li>
</ul>
<p>Goè¯­è¨€ä¸­çš„åå°„çš„è¯­æ³•è¿˜æ˜¯æœ‰ç‚¹ä»¤äººè´¹è§£çš„ï¼Œä½†æ˜¯ç®€å•çœ‹ä¸€ä¸‹æ‰‹å†Œè¿˜æ˜¯èƒ½å¤Ÿè¯»æ‡‚çš„ã€‚æˆ‘è¿™ç¯‡æ–‡ç« ä¸è®²åå°„ï¼Œæ‰€ä»¥ç›¸å…³çš„åŸºç¡€çŸ¥è¯†è¿˜è¯·å¤§å®¶è‡ªè¡ŒGoogleç›¸å…³çš„æ•™ç¨‹ã€‚</p>
<p>äºæ˜¯ï¼Œæˆ‘ä»¬å°±å¯ä»¥æœ‰ä¸‹é¢çš„ä»£ç â€”â€”ä¸åŒç±»å‹çš„æ•°æ®å¯ä»¥ä½¿ç”¨ç›¸åŒé€»è¾‘çš„<code>Map()</code>ä»£ç ã€‚</p>
<pre class="EnlighterJSRAW" data-enlighter-language="golang">square := func(x int) int {
  return x * x
}
nums := []int{1, 2, 3, 4}

squared_arr := Map(nums,square)
fmt.Println(squared_arr)
//[1 4 9 16]



upcase := func(s string) string {
  return strings.ToUpper(s)
}
strs := []string{&#34;Hao&#34;, &#34;Chen&#34;, &#34;MegaEase&#34;}
upstrs := Map(strs, upcase);
fmt.Println(upstrs)
//[HAO CHEN MEGAEASE]</pre>
<p>ä½†æ˜¯å› ä¸ºåå°„æ˜¯è¿è¡Œæ—¶çš„äº‹ï¼Œæ‰€ä»¥ï¼Œå¦‚æœç±»å‹ä»€ä¹ˆå‡ºé—®é¢˜çš„è¯ï¼Œå°±ä¼šæœ‰è¿è¡Œæ—¶çš„é”™è¯¯ã€‚æ¯”å¦‚ï¼š</p>
<pre class="EnlighterJSRAW" data-enlighter-language="golang">x := Map(5, 5)
fmt.Println(x)</pre>
<p>ä¸Šé¢çš„ä»£ç å¯ä»¥å¾ˆè½»æ¾çš„ç¼–è¯‘é€šè¿‡ï¼Œä½†æ˜¯åœ¨è¿è¡Œæ—¶å°±å‡ºé—®é¢˜äº†ï¼Œè¿˜æ˜¯panicé”™è¯¯â€¦â€¦</p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">panic: reflect: call of reflect.Value.Len on int Value

goroutine 1 [running]:
reflect.Value.Len(0x10b5240, 0x10eeb58, 0x82, 0x10716bc)
        /usr/local/Cellar/go/1.15.3/libexec/src/reflect/value.go:1162 +0x185
main.Map(0x10b5240, 0x10eeb58, 0x10b5240, 0x10eeb60, 0x1, 0x14, 0x0)
        /Users/chenhao/.../map.go:12 +0x16b
main.main()
        /Users/chenhao/.../map.go:42 +0x465
exit status 2</pre>
<h5><span class="ez-toc-section" id="%E5%81%A5%E5%A3%AE%E7%89%88%E7%9A%84Generic_Map"></span>å¥å£®ç‰ˆçš„Generic Map<span class="ez-toc-section-end"></span></h5>
<p>æ‰€ä»¥ï¼Œå¦‚æœè¦å†™ä¸€ä¸ªå¥å£®çš„ç¨‹åºï¼Œå¯¹äºè¿™ç§ç”¨<code>interface{}</code> çš„â€œè¿‡åº¦æ³›å‹â€ï¼Œå°±éœ€è¦æˆ‘ä»¬è‡ªå·±æ¥åšç±»å‹æ£€æŸ¥ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªæœ‰ç±»å‹æ£€æŸ¥çš„Mapä»£ç ï¼š</p>
<pre class="EnlighterJSRAW" data-enlighter-language="golang">func Transform(slice, function interface{}) interface{} {
  return transform(slice, function, false)
}

func TransformInPlace(slice, function interface{}) interface{} {
  return transform(slice, function, true)
}

func transform(slice, function interface{}, inPlace bool) interface{} {
 
  //check the <code data-enlighter-language="raw" class="EnlighterJSRAW">slice</code> type is Slice
  sliceInType := reflect.ValueOf(slice)
  if sliceInType.Kind() != reflect.Slice {
    panic(&#34;transform: not slice&#34;)
  }

  //check the function signature
  fn := reflect.ValueOf(function)
  elemType := sliceInType.Type().Elem()
  if !verifyFuncSignature(fn, elemType, nil) {
    panic(&#34;trasform: function must be of type func(&#34; + sliceInType.Type().Elem().String() + &#34;) outputElemType&#34;)
  }

  sliceOutType := sliceInType
  if !inPlace {
    sliceOutType = reflect.MakeSlice(reflect.SliceOf(fn.Type().Out(0)), sliceInType.Len(), sliceInType.Len())
  }
  for i := 0; i &lt; sliceInType.Len(); i++ {
    sliceOutType.Index(i).Set(fn.Call([]reflect.Value{sliceInType.Index(i)})[0])
  }
  return sliceOutType.Interface()

}

func verifyFuncSignature(fn reflect.Value, types ...reflect.Type) bool {

  //Check it is a funciton
  if fn.Kind() != reflect.Func {
    return false
  }
  // NumIn() - returns a function type&#39;s input parameter count.
  // NumOut() - returns a function type&#39;s output parameter count.
  if (fn.Type().NumIn() != len(types)-1) || (fn.Type().NumOut() != 1) {
    return false
  }
  // In() - returns the type of a function type&#39;s i&#39;th input parameter.
  for i := 0; i &lt; len(types)-1; i++ {
    if fn.Type().In(i) != types[i] {
      return false
    }
  }
  // Out() - returns the type of a function type&#39;s i&#39;th output parameter.
  outType := types[len(types)-1]
  if outType != nil &amp;&amp; fn.Type().Out(0) != outType {
    return false
  }
  return true
}
</pre>
<p>ä¸Šé¢çš„ä»£ç ä¸€ä¸‹å­å°±å¤æ‚èµ·æ¥äº†ï¼Œå¯è§ï¼Œå¤æ‚çš„ä»£ç éƒ½æ˜¯åœ¨å¤„ç†å¼‚å¸¸çš„åœ°æ–¹ã€‚æˆ‘ä¸æ‰“ç®—Walk through æ‰€æœ‰çš„ä»£ç ï¼Œåˆ«çœ‹ä»£ç å¤šï¼Œä½†æ˜¯è¿˜æ˜¯å¯ä»¥è¯»æ‡‚çš„ï¼Œä¸‹é¢åˆ—å‡ ä¸ªä»£ç ä¸­çš„è¦ç‚¹ï¼š</p>
<ul>
<li>ä»£ç ä¸­æ²¡æœ‰ä½¿ç”¨Mapå‡½æ•°ï¼Œå› ä¸ºå’Œæ•°æ®ç»“æ„å’Œå…³é”®æœ‰å«ä¹‰å†²çªçš„é—®é¢˜ï¼Œæ‰€ä»¥ä½¿ç”¨<code>Transform</code>ï¼Œè¿™ä¸ªæ¥æºäº C++ STLåº“ä¸­çš„å‘½åã€‚</li>
<li>æœ‰ä¸¤ä¸ªç‰ˆæœ¬çš„å‡½æ•°ï¼Œä¸€ä¸ªæ˜¯è¿”å›ä¸€ä¸ªå…¨æ–°çš„æ•°ç»„ â€“ <code>Transform()</code>ï¼Œä¸€ä¸ªæ˜¯â€œå°±åœ°å®Œæˆâ€ â€“ <code>TransformInPlace()</code></li>
<li>åœ¨ä¸»å‡½æ•°ä¸­ï¼Œç”¨ <code>Kind()</code> æ–¹æ³•æ£€æŸ¥äº†æ•°æ®ç±»å‹æ˜¯ä¸æ˜¯ Sliceï¼Œå‡½æ•°ç±»å‹æ˜¯ä¸æ˜¯Func</li>
<li>æ£€æŸ¥å‡½æ•°çš„å‚æ•°å’Œè¿”å›ç±»å‹æ˜¯é€šè¿‡ <code>verifyFuncSignature()</code> æ¥å®Œæˆçš„ï¼Œå…¶ä¸­ï¼š
<ul>
<li><code>NumIn()</code> â€“ ç”¨æ¥æ£€æŸ¥å‡½æ•°çš„â€œå…¥å‚â€</li>
<li>Â <code>NumOut()</code> ç”¨æ¥æ£€æŸ¥å‡½æ•°çš„â€œè¿”å›å€¼â€</li>
</ul>
</li>
<li>å¦‚æœéœ€è¦æ–°ç”Ÿæˆä¸€ä¸ªSliceï¼Œä¼šä½¿ç”¨ <code>reflect.MakeSlice()</code> æ¥å®Œæˆã€‚</li>
</ul>
<p>å¥½äº†ï¼Œæœ‰äº†ä¸Šé¢çš„è¿™æ®µä»£ç ï¼Œæˆ‘ä»¬çš„ä»£ç å°±å¾ˆå¯ä»¥å¾ˆå¼€å¿ƒçš„ä½¿ç”¨äº†ï¼š</p>
<p>å¯ä»¥ç”¨äºå­—ç¬¦ä¸²æ•°ç»„</p>
<pre class="EnlighterJSRAW" data-enlighter-language="golang">list := []string{&#34;1&#34;, &#34;2&#34;, &#34;3&#34;, &#34;4&#34;, &#34;5&#34;, &#34;6&#34;}
result := Transform(list, func(a string) string{
    return a +a +a
})
//{&#34;111&#34;,&#34;222&#34;,&#34;333&#34;,&#34;444&#34;,&#34;555&#34;,&#34;666&#34;}
</pre>
<p>å¯ä»¥ç”¨äºæ•´å½¢æ•°ç»„</p>
<pre class="EnlighterJSRAW" data-enlighter-language="golang">list := []int{1, 2, 3, 4, 5, 6, 7, 8, 9}
TransformInPlace(list, func (a int) int {
  return a*3
})
//{3, 6, 9, 12, 15, 18, 21, 24, 27}
</pre>
<p>å¯ä»¥ç”¨äºç»“æ„ä½“</p>
<pre class="EnlighterJSRAW" data-enlighter-language="golang">var list = []Employee{
    {&#34;Hao&#34;, 44, 0, 8000},
    {&#34;Bob&#34;, 34, 10, 5000},
    {&#34;Alice&#34;, 23, 5, 9000},
    {&#34;Jack&#34;, 26, 0, 4000},
    {&#34;Tom&#34;, 48, 9, 7500},
}

result := TransformInPlace(list, func(e Employee) Employee {
    e.Salary += 1000
    e.Age += 1
    return e
})</pre>
<h5><span class="ez-toc-section" id="%E5%81%A5%E5%A3%AE%E7%89%88%E7%9A%84_Generic_Reduce"></span>å¥å£®ç‰ˆçš„ Generic Reduce<span class="ez-toc-section-end"></span></h5>
<p>åŒæ ·ï¼Œæ³›å‹ç‰ˆçš„ Reduce ä»£ç å¦‚ä¸‹ï¼š</p>
<pre class="EnlighterJSRAW" data-enlighter-language="golang">func Reduce(slice, pairFunc, zero interface{}) interface{} {
  sliceInType := reflect.ValueOf(slice)
  if sliceInType.Kind() != reflect.Slice {
    panic(&#34;reduce: wrong type, not slice&#34;)
  }

  len := sliceInType.Len()
  if len == 0 {
    return zero
  } else if len == 1 {
    return sliceInType.Index(0)
  }

  elemType := sliceInType.Type().Elem()
  fn := reflect.ValueOf(pairFunc)
  if !verifyFuncSignature(fn, elemType, elemType, elemType) {
    t := elemType.String()
    panic(&#34;reduce: function must be of type func(&#34; + t + &#34;, &#34; + t + &#34;) &#34; + t)
  }

  var ins [2]reflect.Value
  ins[0] = sliceInType.Index(0)
  ins[1] = sliceInType.Index(1)
  out := fn.Call(ins[:])[0]

  for i := 2; i &lt; len; i++ {
    ins[0] = out
    ins[1] = sliceInType.Index(i)
    out = fn.Call(ins[:])[0]
  }
  return out.Interface()
}</pre>
<h5><span class="ez-toc-section" id="%E5%81%A5%E5%A3%AE%E7%89%88%E7%9A%84_Generic_Filter"></span>å¥å£®ç‰ˆçš„ Generic Filter<span class="ez-toc-section-end"></span></h5>
<p>åŒæ ·ï¼Œæ³›å‹ç‰ˆçš„ Filter ä»£ç å¦‚ä¸‹ï¼ˆåŒæ ·åˆ†æ˜¯å¦â€œå°±åœ°è®¡ç®—â€çš„ä¸¤ä¸ªç‰ˆæœ¬ï¼‰ï¼š</p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">func Filter(slice, function interface{}) interface{} {
  result, _ := filter(slice, function, false)
  return result
}

func FilterInPlace(slicePtr, function interface{}) {
  in := reflect.ValueOf(slicePtr)
  if in.Kind() != reflect.Ptr {
    panic(&#34;FilterInPlace: wrong type, &#34; +
      &#34;not a pointer to slice&#34;)
  }
  _, n := filter(in.Elem().Interface(), function, true)
  in.Elem().SetLen(n)
}

var boolType = reflect.ValueOf(true).Type()

func filter(slice, function interface{}, inPlace bool) (interface{}, int) {

  sliceInType := reflect.ValueOf(slice)
  if sliceInType.Kind() != reflect.Slice {
    panic(&#34;filter: wrong type, not a slice&#34;)
  }

  fn := reflect.ValueOf(function)
  elemType := sliceInType.Type().Elem()
  if !verifyFuncSignature(fn, elemType, boolType) {
    panic(&#34;filter: function must be of type func(&#34; + elemType.String() + &#34;) bool&#34;)
  }

  var which []int
  for i := 0; i &lt; sliceInType.Len(); i++ {
    if fn.Call([]reflect.Value{sliceInType.Index(i)})[0].Bool() {
      which = append(which, i)
    }
  }

  out := sliceInType

  if !inPlace {
    out = reflect.MakeSlice(sliceInType.Type(), len(which), len(which))
  }
  for i := range which {
    out.Index(i).Set(sliceInType.Index(which[i]))
  }

  return out.Interface(), len(which)
}</pre>
<h4><span class="ez-toc-section" id="%E5%90%8E%E8%AE%B0"></span>åè®°<span class="ez-toc-section-end"></span></h4>
<p>è¿˜æœ‰å‡ ä¸ªæœªå°½äº‹å®œï¼š</p>
<p>1ï¼‰ä½¿ç”¨åå°„æ¥åšè¿™äº›ä¸œè¥¿ï¼Œä¼šæœ‰ä¸€ä¸ªé—®é¢˜ï¼Œ<strong>é‚£å°±æ˜¯ä»£ç çš„æ€§èƒ½ä¼šå¾ˆå·®ã€‚æ‰€ä»¥ï¼Œä¸Šé¢çš„ä»£ç ä¸èƒ½ç”¨äºä½ éœ€è¦é«˜æ€§èƒ½çš„åœ°æ–¹</strong>ã€‚æ€ä¹ˆè§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬ä¼šåœ¨æœ¬ç³»åˆ—æ–‡ç« çš„ä¸‹ä¸€ç¯‡æ–‡ç« ä¸­è®¨è®ºã€‚</p>
<p>2ï¼‰ä¸Šé¢çš„ä»£ç å¤§é‡çš„å‚è€ƒäº† Rob Pikeçš„ç‰ˆæœ¬ï¼Œä»–çš„ä»£ç åœ¨ <a href="https://github.com/robpike/filter" target="_blank" rel="noopener">https://github.com/robpike/filter</a></p>
<p>3ï¼‰å…¶å®ï¼Œåœ¨å…¨ä¸–ç•ŒèŒƒå›´å†…ï¼Œæœ‰å¤§é‡çš„ç¨‹åºå‘˜éƒ½åœ¨é—®Goè¯­è¨€å®˜æ–¹ä»€ä¹ˆæ—¶å€™åœ¨æ ‡å‡†åº“ä¸­æ”¯æŒ Map/Reduceï¼ŒRob Pikeè¯´ï¼Œè¿™ç§ä¸œè¥¿éš¾å†™å—ï¼Ÿè¿˜è¦æˆ‘ä»¬å®˜æ–¹æ¥å¸®ä½ ä»¬å†™ä¹ˆï¼Ÿè¿™ç§ä»£ç æˆ‘å¤šå°‘å¹´å‰å°±å†™è¿‡äº†ï¼Œä½†æ˜¯ï¼Œæˆ‘ä»æ¥ä¸€æ¬¡éƒ½æ²¡æœ‰ç”¨è¿‡ï¼Œæˆ‘è¿˜æ˜¯å–œæ¬¢ç”¨â€œForå¾ªç¯â€ï¼Œæˆ‘è§‰å¾—ä½ æœ€å¥½ä¹Ÿè·Ÿæˆ‘ä¸€èµ·ç”¨ â€œForå¾ªç¯â€ã€‚</p>
<p>æˆ‘ä¸ªäººè§‰å¾—ï¼ŒMap/Reduceåœ¨æ•°æ®å¤„ç†çš„æ—¶å€™è¿˜æ˜¯å¾ˆæœ‰ç”¨çš„ï¼ŒRob Pikeå¯èƒ½å¹³æ—¶ä¹Ÿä¸æ€ä¹ˆå†™â€œä¸šåŠ¡é€»è¾‘â€çš„ä»£ç ï¼Œæ‰€ä»¥ï¼Œå¯¹ä»–æ¥è¯´å¯èƒ½ä¹Ÿä¸å¤ªäº†è§£ä¸šåŠ¡çš„å˜åŒ–æœ‰å¤šä¹ˆçš„é¢‘ç¹â€¦â€¦</p>
<p>å½“ç„¶ï¼Œå¥½è¿˜æ˜¯ä¸å¥½ï¼Œç”±ä½ æ¥åˆ¤æ–­ï¼Œä½†å¤šå­¦ä¸€äº›ç¼–ç¨‹æ¨¡å¼æ˜¯å¯¹è‡ªå·±çš„å¸®åŠ©ä¹Ÿæ˜¯å¾ˆæœ‰å¸®åŠ©çš„ã€‚</p>
<p>ï¼ˆå…¨æ–‡å®Œï¼‰</p>
<div style="margin-top: 15px; font-size: 16px;color: #cc0000;">
<p align="center"><strong>ï¼ˆè½¬è½½æœ¬ç«™æ–‡ç« è¯·æ³¨æ˜ä½œè€…å’Œå‡ºå¤„ <a href="/">é…· å£³ â€“ CoolShell</a> ï¼Œè¯·å‹¿ç”¨äºä»»ä½•å•†ä¸šç”¨é€”ï¼‰</strong></p>
</div>

<div id="post-ratings-21164-loading" class="post-ratings-loading"><img src="https://coolshell.cn/wp-content/plugins/wp-postratings/images/loading.gif" width="16" height="16" class="post-ratings-image"/>Loading...</div>
</div>
<footer class="entry-footer">
<hr/><div class="row"><div class="col-md-6 cattegories"><span class="cat-links"><i class="fa fa-folder-open"></i>
<a href="javascript:void(0)" rel="category tag">Go è¯­è¨€</a>, <a href="javascript:void(0)" rel="category tag">ç¨‹åºè®¾è®¡</a>, <a href="javascript:void(0)" rel="category tag">ç¼–ç¨‹è¯­è¨€</a></span></div><div class="col-md-6 tags"><span class="tags-links"><i class="fa fa-tags"></i> <a href="javascript:void(0)" rel="tag">functional</a>, <a href="javascript:void(0)" rel="tag">functional-programming</a>, <a href="javascript:void(0)" rel="tag">Go</a>, <a href="javascript:void(0)" rel="tag">golang</a>, <a href="javascript:void(0)" rel="tag">MapReduce</a>, <a href="javascript:void(0)" rel="tag">å‡½æ•°å¼</a>, <a href="javascript:void(0)" rel="tag">å‡½æ•°å¼ç¼–ç¨‹</a></span></div></div> </footer>
</article>

<div class="fixed"></div> 
</main>

<div class="post-comments">
<div id="comments" class="comments-area">
<h2 class="comments-title">
ã€Š<span>Goç¼–ç¨‹æ¨¡å¼ï¼šMap-Reduce</span>ã€‹çš„ç›¸å…³è¯„è®º </h2>
<ol class="comment-list">
<li id="comment-2187570" class="comment even thread-even depth-1 parent">
<article id="div-comment-2187570" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt="" src="https://secure.gravatar.com/avatar/db9e52e180051ab91fd1cc82720e99a6?s=50&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/db9e52e180051ab91fd1cc82720e99a6?s=100&amp;d=mm&amp;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async"/> <b class="fn">å–µå°çˆ±</b><span class="says">è¯´é“ï¼š</span> </div>
<div class="comment-metadata">
<a href="/articles/21164.html#comment-2187570"><time datetime="2020-12-26T20:21:05+08:00">2020å¹´12æœˆ26æ—¥ 20:21</time></a> </div>
</footer>
<div class="comment-content">
<p>Map/Reduce/Filteræ˜¯éæœ‰é€šç”¨çš„ç©æ³•<br/>
éæœ‰â€“&gt;éå¸¸</p>
</div>
 </article>
<ol class="children">
<li id="comment-2187785" class="comment byuser comment-author-haoel bypostauthor odd alt depth-2">
<article id="div-comment-2187785" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt="" src="https://secure.gravatar.com/avatar/af2fbb7372dd5826e44d87e6ceccea40?s=50&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/af2fbb7372dd5826e44d87e6ceccea40?s=100&amp;d=mm&amp;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async"/> <b class="fn"><a href="https://coolshell.cn" class="url" rel="ugc">é™ˆçš“</a></b><span class="says">è¯´é“ï¼š</span> </div>
<div class="comment-metadata">
<a href="/articles/21164.html#comment-2187785"><time datetime="2020-12-27T10:38:01+08:00">2020å¹´12æœˆ27æ—¥ 10:38</time></a> </div>
</footer>
<div class="comment-content">
<p>è°¢è°¢ï¼Œå·²æ›´æ­£</p>
</div>
 </article>
</li>
</ol>
</li>
<li id="comment-2187788" class="pingback even thread-odd thread-alt depth-1">
<div class="comment-body">
Pingbackï¼š <a href="/articles/21179.html" class="url" rel="ugc">Go ç¼–ç¨‹æ¨¡å¼ï¼šGo Generation | é…· å£³ - CoolShell</a> </div>
</li>
<li id="comment-2187855" class="comment odd alt thread-even depth-1 parent">
<article id="div-comment-2187855" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt="" src="https://secure.gravatar.com/avatar/3e3c1cb94b9ad3551cd9d43f2e52e105?s=50&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/3e3c1cb94b9ad3551cd9d43f2e52e105?s=100&amp;d=mm&amp;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async"/> <b class="fn"><a href="https://blog.lilydjwg.me/" class="url" rel="ugc external nofollow">ä¾äº‘</a></b><span class="says">è¯´é“ï¼š</span> </div>
<div class="comment-metadata">
<a href="/articles/21164.html#comment-2187855"><time datetime="2020-12-27T15:49:46+08:00">2020å¹´12æœˆ27æ—¥ 15:49</time></a> </div>
</footer>
<div class="comment-content">
<p>è¿™ç§ä¸œè¥¿éš¾å†™å—ï¼Ÿä¸éš¾å†™çš„å“¦ï¼Œé™¤éæ˜¯åœ¨ä¸æ”¯æŒæ³›å‹çš„ Go è¯­è¨€ä¸­ ğŸ¤£</p>
<p>for å¾ªç¯ç›¸æ¯”ä¹‹ä¸‹ï¼Œä¸€ä¸ªé—®é¢˜æ˜¯ï¼Œæ€è€ƒçš„æ–¹å¼ä½äº†ä¸€ä¸ªå±‚çº§ã€‚å¦ä¸€æ–¹é¢ï¼Œfor å¾ªç¯èƒ½åšæ›´å¤šå¥‡å¥‡æ€ªæ€ªçš„äº‹æƒ…ï¼Œæ‰€ä»¥è¯­ä¹‰å¯ä»¥å¾ˆå¤æ‚ã€‚</p>
<p>è€Œ map / filter / reduce æ˜¯ç›¸å½“å¥½ç†è§£çš„ï¼šå…ˆå˜æ¢ï¼Œå†è¿‡æ»¤ï¼Œæœ€åæ€»ç»“ã€‚ä¸ç®¡ä½ æ¯ä¸€æ­¥çš„æ“ä½œå¤šä¹ˆå¤æ‚ï¼Œå…¶å¤æ‚æ€§éƒ½è¢«åˆ†ç¦»å¼€äº†ï¼Œè€Œä¸ä¼šçº ç¼ åœ¨ä¸€èµ·ï¼Œè®©äººè¿·å¤±æ–¹å‘ã€‚</p>
</div>
 </article>
<ol class="children">
<li id="comment-2192566" class="comment even depth-2">
<article id="div-comment-2192566" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt="" src="https://secure.gravatar.com/avatar/b3d5b3da29cb84642756e3bc4e714c01?s=50&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/b3d5b3da29cb84642756e3bc4e714c01?s=100&amp;d=mm&amp;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async"/> <b class="fn">wardenlym</b><span class="says">è¯´é“ï¼š</span> </div>
<div class="comment-metadata">
<a href="/articles/21164.html#comment-2192566"><time datetime="2021-01-08T17:27:48+08:00">2021å¹´01æœˆ08æ—¥ 17:27</time></a> </div>
</footer>
<div class="comment-content">
<p>codes in golang:<br/>
bra bra bra(1000 lines)</p>
<p>same logic writtern in Elixir:<br/>
input<br/>
|&gt; map<br/>
|&gt; filter<br/>
|&gt; reduce</p>
<p>Emmmmmmmmmmmmmm</p>
</div>
 </article>
</li>
</ol>
</li>
<li id="comment-2187999" class="comment odd alt thread-odd thread-alt depth-1">
<article id="div-comment-2187999" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt="" src="https://secure.gravatar.com/avatar/09fe7907900043edaa672b7a2620543b?s=50&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/09fe7907900043edaa672b7a2620543b?s=100&amp;d=mm&amp;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async"/> <b class="fn">ğŸ‘</b><span class="says">è¯´é“ï¼š</span> </div>
<div class="comment-metadata">
<a href="/articles/21164.html#comment-2187999"><time datetime="2020-12-27T23:47:51+08:00">2020å¹´12æœˆ27æ—¥ 23:47</time></a> </div>
</footer>
<div class="comment-content">
<p>å¥½å¤š slices æ²¡æœ‰ preallocateï¼Œå‚è€ƒï¼š<a href="/articles/21128.html#%E6%80%A7%E8%83%BD%E6%8F%90%E7%A4%BA">https://coolshell.cn/articles/21128.html#%E6%80%A7%E8%83%BD%E6%8F%90%E7%A4%BA</a> ç¬¬ 3 ç‚¹ã€‚</p>
<blockquote><p>
Goå¼€å‘å›¢é˜ŸæŠ€æœ¯è´Ÿè´£äººRuss Coxåœ¨2012å¹´11æœˆ21golang-devä¸Šçš„mailç¡®è®¤äº†Goæ³›å‹(type parameter)å°†åœ¨Go 1.18ç‰ˆæœ¬è½åœ°ï¼Œå³2022.2æœˆä»½ã€‚
</p></blockquote>
<p>å¤§ä½¬æ˜¯å¦‚ä½•é¢„æµ‹ 10 å¹´åçš„äº‹æƒ…çš„ï¼Ÿ</p>
</div>
 </article>
</li>
<li id="comment-2188003" class="comment even thread-even depth-1">
<article id="div-comment-2188003" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt="" src="https://secure.gravatar.com/avatar/078fede1841dde1a7b44fbd6ccd3f460?s=50&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/078fede1841dde1a7b44fbd6ccd3f460?s=100&amp;d=mm&amp;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async"/> <b class="fn">clay</b><span class="says">è¯´é“ï¼š</span> </div>
<div class="comment-metadata">
<a href="/articles/21164.html#comment-2188003"><time datetime="2020-12-27T23:54:27+08:00">2020å¹´12æœˆ27æ—¥ 23:54</time></a> </div>
</footer>
<div class="comment-content">
<p>å¯¹ä»–æ¥è¯´å¯èƒ½ä¹Ÿä¸å¤ªäº†è§£ä¸šåŠ¡çš„å˜ä¼¦æœ‰å¤šä¹ˆçš„é¢‘ç¹â€¦â€¦<br/>
å˜ä¼¦=&gt;å˜æ¢ï¼Ÿ</p>
</div>
 </article>
</li>
<li id="comment-2188223" class="comment odd alt thread-odd thread-alt depth-1">
<article id="div-comment-2188223" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt="" src="https://secure.gravatar.com/avatar/3c97d7bf6230e9b69680eeed46e6e467?s=50&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/3c97d7bf6230e9b69680eeed46e6e467?s=100&amp;d=mm&amp;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async"/> <b class="fn"><a href="https://zhanxw.com" class="url" rel="ugc external nofollow">zhanxw</a></b><span class="says">è¯´é“ï¼š</span> </div>
<div class="comment-metadata">
<a href="/articles/21164.html#comment-2188223"><time datetime="2020-12-28T13:45:01+08:00">2020å¹´12æœˆ28æ—¥ 13:45</time></a> </div>
</footer>
<div class="comment-content">
<p>äº†è§£ä¸šåŠ¡çš„å˜ä¼¦æœ‰å¤šä¹ˆçš„é¢‘ç¹</p>
<p>=&gt;</p>
<p>äº†è§£ä¸šåŠ¡çš„å˜<em>åŒ–</em>æœ‰å¤šä¹ˆçš„é¢‘ç¹</p>
</div>
 </article>
</li>
<li id="comment-2188858" class="comment even thread-even depth-1">
<article id="div-comment-2188858" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt="" src="https://secure.gravatar.com/avatar/562d419f0b311b4ce95830f7aa3429a9?s=50&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/562d419f0b311b4ce95830f7aa3429a9?s=100&amp;d=mm&amp;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async"/> <b class="fn">Tim</b><span class="says">è¯´é“ï¼š</span> </div>
<div class="comment-metadata">
<a href="/articles/21164.html#comment-2188858"><time datetime="2020-12-30T00:03:44+08:00">2020å¹´12æœˆ30æ—¥ 00:03</time></a> </div>
</footer>
<div class="comment-content">
<p>ä¸ºä»€ä¹ˆå« map filter reduce ?</p>
</div>
 </article>
</li>
<li id="comment-2195203" class="comment odd alt thread-odd thread-alt depth-1 parent">
<article id="div-comment-2195203" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt="" src="https://secure.gravatar.com/avatar/0ad86d3fed1ca9080aa4f8e9b4a5f789?s=50&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/0ad86d3fed1ca9080aa4f8e9b4a5f789?s=100&amp;d=mm&amp;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async"/> <b class="fn">Yu Hao</b><span class="says">è¯´é“ï¼š</span> </div>
<div class="comment-metadata">
<a href="/articles/21164.html#comment-2195203"><time datetime="2021-01-15T18:47:07+08:00">2021å¹´01æœˆ15æ—¥ 18:47</time></a> </div>
</footer>
<div class="comment-content">
<p>å¥å£®ç‰ˆçš„ Generic Reduceï¼Œä¼ è¿›å»çš„pairFuncå‡½æ•°ç­¾ååªèƒ½æ˜¯è¿™æ ·çš„å§ï¼š<br/>
func(e1 Employee, e2 Employee) Employee {<br/>
â€¦<br/>
}</p>
</div>
 </article>
<ol class="children">
<li id="comment-2218333" class="comment even depth-2">
<article id="div-comment-2218333" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt="" src="https://secure.gravatar.com/avatar/4e2957c8c6d227675178bd0cc89b4abc?s=50&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/4e2957c8c6d227675178bd0cc89b4abc?s=100&amp;d=mm&amp;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async"/> <b class="fn"><a href="http://www.neohope.com" class="url" rel="ugc external nofollow">neohope</a></b><span class="says">è¯´é“ï¼š</span> </div>
<div class="comment-metadata">
<a href="/articles/21164.html#comment-2218333"><time datetime="2021-03-15T22:15:57+08:00">2021å¹´03æœˆ15æ—¥ 22:15</time></a> </div>
</footer>
<div class="comment-content">
<p>Reduceçš„è¯ï¼Œæ˜¯ä¸æ˜¯è°ƒæ•´ä¸€ä¸‹ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ç»Ÿè®¡ç»“æœOutï¼Œç¬¬äºŒä¸ªæ˜¯Employeeï¼Œè¿”å›ç»Ÿè®¡ç»“æœOutï¼Œæ¯”è¾ƒå¥½ã€‚</p>
</div>
 </article>
</li>
</ol>
</li>
<li id="comment-2195492" class="comment odd alt thread-even depth-1">
<article id="div-comment-2195492" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt="" src="https://secure.gravatar.com/avatar/e08a2018001e98b9d7991df011616742?s=50&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/e08a2018001e98b9d7991df011616742?s=100&amp;d=mm&amp;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async"/> <b class="fn">co</b><span class="says">è¯´é“ï¼š</span> </div>
<div class="comment-metadata">
<a href="/articles/21164.html#comment-2195492"><time datetime="2021-01-16T17:52:44+08:00">2021å¹´01æœˆ16æ—¥ 17:52</time></a> </div>
</footer>
<div class="comment-content">
<p>ç¬¬ä¸€æ¬¡å¬è¯´</p>
</div>
 </article>
</li>
<li id="comment-2218330" class="comment even thread-odd thread-alt depth-1 parent">
<article id="div-comment-2218330" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt="" src="https://secure.gravatar.com/avatar/4e2957c8c6d227675178bd0cc89b4abc?s=50&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/4e2957c8c6d227675178bd0cc89b4abc?s=100&amp;d=mm&amp;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async"/> <b class="fn"><a href="http://www.neohope.com" class="url" rel="ugc external nofollow">neohope</a></b><span class="says">è¯´é“ï¼š</span> </div>
<div class="comment-metadata">
<a href="/articles/21164.html#comment-2218330"><time datetime="2021-03-15T22:08:17+08:00">2021å¹´03æœˆ15æ—¥ 22:08</time></a> </div>
</footer>
<div class="comment-content">
<p>é¢ï¼Œè°èƒ½å¸®å¿™è§£é‡Šä¸€ä¸‹ï¼Œä¸ºä½•FilterInPlaceä¸€å®šè¦ä¼ å…¥slicePtrå‘¢ï¼Ÿæˆ‘è¯•äº†ä¸€ä¸‹ç›´æ¥ä¼ å…¥sliceç„¶åå†å–ptrå°±æ˜¯æŠ¥é”™äº†ã€‚ã€‚ã€‚</p>
</div>
 </article>
<ol class="children">
<li id="comment-2218675" class="comment odd alt depth-2">
<article id="div-comment-2218675" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt="" src="https://secure.gravatar.com/avatar/4e2957c8c6d227675178bd0cc89b4abc?s=50&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/4e2957c8c6d227675178bd0cc89b4abc?s=100&amp;d=mm&amp;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async"/> <b class="fn"><a href="http://www.neohope.com" class="url" rel="ugc external nofollow">neohope</a></b><span class="says">è¯´é“ï¼š</span> </div>
<div class="comment-metadata">
<a href="/articles/21164.html#comment-2218675"><time datetime="2021-03-16T16:41:04+08:00">2021å¹´03æœˆ16æ—¥ 16:41</time></a> </div>
</footer>
<div class="comment-content">
<pre class="EnlighterJSRAW" data-enlighter-language="golang">//ç”±äºgoåªä½œä¼ å€¼å¤„ç†
// ç”±äºsliceæ˜¯ä¼ å€¼ï¼Œæ‰€ä»¥æ— æ³•ç›´æ¥ä¿®æ”¹slice
func SFilterInPlace1(slice, function interface{}) {
    op := make([]int, 0)
    op = slice.([]int)
    _, n := filter(op, function, true)
    in2:=reflect.ValueOf(&amp;op)
    in2.Elem().SetLen(n)
    fmt.Println(in2)
}</pre>
</div>
 </article>
</li>
</ol>
</li>
<li id="comment-2301852" class="comment even thread-even depth-1">
<article id="div-comment-2301852" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt="" src="https://secure.gravatar.com/avatar/b686b7613f880570fa9288ac173255fe?s=50&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/b686b7613f880570fa9288ac173255fe?s=100&amp;d=mm&amp;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async"/> <b class="fn"><a href="http://adoncn.com/" class="url" rel="ugc external nofollow">Adoncn</a></b><span class="says">è¯´é“ï¼š</span> </div>
<div class="comment-metadata">
<a href="/articles/21164.html#comment-2301852"><time datetime="2021-09-12T14:11:05+08:00">2021å¹´09æœˆ12æ—¥ 14:11</time></a> </div>
</footer>
<div class="comment-content">
<p>é¡¶èµ·ï¼Œæ”¯æŒæ”¯æ’‘</p>
</div>
 </article>
</li>
<li id="comment-2356915" class="comment odd alt thread-odd thread-alt depth-1 parent">
<article id="div-comment-2356915" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt="" src="https://secure.gravatar.com/avatar/b25f1bc87d3e1dfb44156693b9b25a56?s=50&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/b25f1bc87d3e1dfb44156693b9b25a56?s=100&amp;d=mm&amp;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async"/> <b class="fn">lzc</b><span class="says">è¯´é“ï¼š</span> </div>
<div class="comment-metadata">
<a href="/articles/21164.html#comment-2356915"><time datetime="2022-01-04T16:00:58+08:00">2022å¹´01æœˆ04æ—¥ 16:00</time></a> </div>
</footer>
<div class="comment-content">
<p>ç¬¬ä¸€æ¬¡ä¸Šè¿™ä¸ªåšå®¢çœ‹ã€‚</p>
</div>
 </article>
<ol class="children">
<li id="comment-2356919" class="comment even depth-2">
<article id="div-comment-2356919" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt="" src="https://secure.gravatar.com/avatar/354ba1fd544d1b7c2d4396b8fec8416b?s=50&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/354ba1fd544d1b7c2d4396b8fec8416b?s=100&amp;d=mm&amp;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async"/> <b class="fn">haha</b><span class="says">è¯´é“ï¼š</span> </div>
<div class="comment-metadata">
<a href="/articles/21164.html#comment-2356919"><time datetime="2022-01-04T16:13:42+08:00">2022å¹´01æœˆ04æ—¥ 16:13</time></a> </div>
</footer>
<div class="comment-content">
<p>1</p>
</div>
 </article>
</li>
</ol>
</li>
<li id="comment-2357822" class="comment odd alt thread-even depth-1">
<article id="div-comment-2357822" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt="" src="https://secure.gravatar.com/avatar/eca7dbd1cebefc7b5a1b1f5bf44d3a14?s=50&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/eca7dbd1cebefc7b5a1b1f5bf44d3a14?s=100&amp;d=mm&amp;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async"/> <b class="fn">iceking</b><span class="says">è¯´é“ï¼š</span> </div>
<div class="comment-metadata">
<a href="/articles/21164.html#comment-2357822"><time datetime="2022-01-08T04:34:54+08:00">2022å¹´01æœˆ08æ—¥ 04:34</time></a> </div>
</footer>
<div class="comment-content">
<blockquote><p>
Goå¼€å‘å›¢é˜ŸæŠ€æœ¯è´Ÿè´£äººRuss Coxåœ¨2012å¹´11æœˆ21golang-devä¸Šçš„mailç¡®è®¤äº†Goæ³›å‹(type parameter)å°†åœ¨Go 1.18ç‰ˆæœ¬è½åœ°ï¼Œå³2022.2æœˆä»½
</p></blockquote>
<p>çš„å‡ºå¤„æœ‰å—ï¼Œæ‰¾äº†åŠå¤©æ²¡æ‰¾åˆ°</p>
</div>
 </article>
</li>
<li id="comment-2370772" class="comment even thread-odd thread-alt depth-1">
<article id="div-comment-2370772" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt="" src="https://secure.gravatar.com/avatar/3337ac040f56b539a19ea5d93d4dcc68?s=50&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/3337ac040f56b539a19ea5d93d4dcc68?s=100&amp;d=mm&amp;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async"/> <b class="fn">åŒé±¼</b><span class="says">è¯´é“ï¼š</span> </div>
<div class="comment-metadata">
<a href="/articles/21164.html#comment-2370772"><time datetime="2022-10-10T17:12:25+08:00">2022å¹´10æœˆ10æ—¥ 17:12</time></a> </div>
</footer>
<div class="comment-content">
<p>else if len == 1 {<br/>
return sliceInType.Index(0)<br/>
}<br/>
reduce ä¸­çš„è¿™ä¸ªåˆ¤æ–­æ˜¯ä¸ºä»€ä¹ˆå‘¢</p>
</div>
 </article>
</li>
</ol>

</div>
</div>
</div>

</div> 
</div>

</div>

</div>
























</body></html>